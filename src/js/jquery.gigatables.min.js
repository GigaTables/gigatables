!function($){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),$.fn.GigaTable=function(options){function triggerCustomFunc(a,b,c){for(var d in a)c&&a[d].extended===b&&typeof a[d].triggerBefore===FUNCTION?a[d].triggerBefore():c||a[d].extended!==b||typeof a[d].triggerAfter!==FUNCTION||a[d].triggerAfter()}function setButtons(settings){var buttons=settings.tableOpts.buttons.sort(function(a,b){return b.extended.localeCompare(a.extended)}),btnsCnt=settings.tableOpts.buttons.length,editorObj=buttons[0].editor;if(typeof buttons!==UNDEFINED&&btnsCnt>0){var button=null;for(var k in buttons)button=buttons[k].editor.buttons[buttons[k].extended],$.inArray("top",settings.tableOpts.buttonsPosition)>=0&&settings.headTools.prepend('<div class="gte_buttons_container">'+button.replace("gte.button."+buttons[k].extended,eval("language."+buttons[k].extended))+'<div class="clear"></div></div>'),$.inArray("bottom",settings.tableOpts.buttonsPosition)>=0&&settings.footTools.prepend('<div class="gte_buttons_container">'+button.replace("gte.button."+buttons[k].extended,eval("language."+buttons[k].extended))+'<div class="clear"></div></div>');settings.headTools.find(".gte_button.create").click(function(){triggerCustomFunc(buttons,"editor_create",1),editorObj.triggerPopupCreate(settings);var a=settings.container.find(".gte_editor_popup");a.find(".gte_editor_title").text(language.gte_editor_popupheader_create),a.find("#gte_sent_btn").text(language.gte_editor_sendbtn_create),triggerCustomFunc(buttons,"editor_create",0)}),settings.footTools.find(".gte_button.create").click(function(){triggerCustomFunc(buttons,"editor_create",1),editorObj.triggerPopupCreate(settings);var a=settings.container.find(".gte_editor_popup");a.find(".gte_editor_title").text(language.gte_editor_popupheader_create),a.find("#gte_sent_btn").text(language.gte_editor_sendbtn_create),triggerCustomFunc(buttons,"editor_create",0)})}}function setSort(settings,json){var ths=settings.container.find("th"),i=0,c=ths.length/2;ths.each(function(){var that=$(this),idx=that.index();settings.columns[idx].sortable!==!1&&(settings.columns[idx].discreteSearch!==!0||settings.columns[idx].discreteSearch===!0&&i<c)&&that.click(function(){sortTimeout=setTimeout(function(){var objTh=that,idx=objTh.index(),nJson=json,cols=settings.columns,sortingOrder=0;objTh.hasClass("sorting")||objTh.hasClass("sorting_desc")?(ths.eq(idx).removeClass("sorting").removeClass("sorting_desc").addClass("sorting_asc"),ths.eq(idx+cols.length).removeClass("sorting").removeClass("sorting_desc").addClass("sorting_asc"),sortingOrder=1):(sortingOrder=-1,ths.eq(idx).removeClass("sorting_asc").addClass("sorting_desc"),ths.eq(idx+cols.length).removeClass("sorting_asc").addClass("sorting_desc"));var isNan=0,check=0;nJson.sort(1===sortingOrder?function(a,b){return a=eval("a."+cols[idx].data)+"",b=eval("b."+cols[idx].data)+"",0===check&&(isNaN(a-b)&&(isNan=1),check=1),isNan?a.localeCompare(b):a-b}:function(a,b){return a=eval("a."+cols[idx].data)+"",b=eval("b."+cols[idx].data)+"",0===check&&(isNaN(a-b)&&(isNan=1),check=1),isNan?b.localeCompare(a):b-a}),setTableSort(settings,nJson)},50)}),++i})}function setSearch(a,b){var c=!1,d=[],e=0;a.container.find(".gt_search").keyup(function(){var f=$(this),g=f.val(),h=g.length;nowMillis=(new Date).getTime();var i=nowMillis-lastTimeKeyup;if(h>0||0===h&&""===g){if(c===!0&&""===g)return;if(c===!1&&""===g)return setTableRows(a,b),void(c=!0);var j=[],k="",l=0;for(var m in b)for(var n in b[m])if("GT_RowId"!==n&&unsearchableCols[n]===!0&&(k=b[m][n]+"",-1!==k.indexOf(g))){j[l]=b[m],++l;break}if(i>PERIOD_SEARCH){for(var o in d)clearTimeout(d[o]);d=[],e=0,setTableRows(a,b,j)}else d[e]=setTimeout(function(){setTableRows(a,b,j)},TIMEOUT_SEARCH),e++;c=!1}lastTimeKeyup=nowMillis})}function setDiscreteSearch(a,b){var c=!1,d=[],e=0;a.tfoot.find("th input").keyup(function(){var f=$(this),g=f.val(),h=g.length,i=f.parent().index();nowMillisDiscrete=(new Date).getTime();var j=nowMillisDiscrete-lastTimeKeyupDiscrete;if(j>PERIOD_SEARCH&&h>0||0===h&&""===g){if(c===!0&&""===g)return;if(c===!1&&""===g)return setTableRows(a,b),void(c=!0);var k=[],l="",m=0;for(var n in b)for(var o in b[n])if("GT_RowId"!==o&&unsearchableCols[o]===!0&&a.columns[i].data===o&&(l=b[n][o]+"",-1!==l.indexOf(g))){k[m]=b[n],++m;break}if(j>PERIOD_SEARCH){for(var p in d)clearTimeout(d[p]);d=[],e=0,setTableRows(a,b,k)}else d[e]=setTimeout(function(){setTableRows(a,b,k)},TIMEOUT_SEARCH),e++;c=!1}lastTimeKeyupDiscrete=nowMillisDiscrete})}function setPgnSelect(a,b){if(typeof a.headTools!==UNDEFINED){var c=a.container.find(".gt_select");c.change(function(){settings.defaultPerPage=$(this).val(),settings.fromRow=0,setTableRows(settings,b),c.find("option").prop(SELECTED,!1),c.find('option[value="'+settings.defaultPerPage+'"]').prop(SELECTED,!0)})}}function drawPagnButtons(a,b,c){for(var d=5,e="",f="",g=0,h=0,i=0,j=b/c+1,k=parseInt(a)-d,l=0;l<a;++l){g=l*c;var m=l-1,n=l+1;if(j===n&&(h=m*c,m<0&&(h=(a-1)*c),i=n*c,n===a&&(i=0)),l>d){if(j<d){e+='<div class="gt_page_dots">...</div>',l+1===a&&(f=SELECTED),e+='<div data-from="'+(a-1)*c+'" class="gt_page '+f+'">'+a+"</div>";break}if(j>=d&&j<=a-d){m=j-1,n=j+1,e='<div data-from="0" class="gt_page">1</div>',e+='<div class="gt_page_dots">...</div>',h=(j-2)*c,i=j*c,e+='<div data-from="'+h+'" class="gt_page">'+(j-1)+"</div>",e+='<div data-from="'+(j-1)*c+'" class="gt_page selected">'+j+"</div>",e+='<div data-from="'+i+'" class="gt_page">'+(j+1)+"</div>",e+='<div class="gt_page_dots">...</div>',e+='<div data-from="'+(a-1)*c+'" class="gt_page">'+a+"</div>";break}if(j>k){e='<div data-from="0" class="gt_page">1</div>',e+='<div class="gt_page_dots">...</div>';for(var o=k-1;o<a;++o){var g=o*c,m=o-1,n=o+1;j===n&&(h=m*c,m<0&&(h=(a-1)*c),i=n*c,n===a&&(i=0),f=SELECTED),e+='<div data-from="'+g+'" class="gt_page '+f+'">'+(o+1)+"</div>",f=""}break}}else j===n&&(f=SELECTED),e+='<div data-from="'+g+'" class="gt_page '+f+'">'+n+"</div>";f=""}return'<div class="gt_pagn"><div data-from="'+h+'" class="gt_page prev">'+language.prev+"</div>"+e+'<div data-from="'+i+'" class="gt_page next">'+language.next+"</div></div>"}function setTableSort(a,b){var c="",d=b,e=parseInt(a.defaultPerPage)+parseInt(a.fromRow),e=0;e=d.length>a.defaultPerPage?parseInt(a.defaultPerPage)+parseInt(a.fromRow):d.length;var f=settings.tbody.find("tr.active"),g=[];typeof f!==UNDEFINED&&f.each(function(){var a=$(this).attr("gte-row-id");g[a]=a});for(var h=a.fromRow;h<e;++h){var i=0,j="";if(typeof d[h].GT_RowId!==UNDEFINED)i=d[h].GT_RowId;else{if(typeof d[h].id===UNDEFINED)return void console.error('You have neither "GT_RowId" nor "id" in json structure.');i=d[h].id}g.length>0&&typeof g[i]!==UNDEFINED&&(j="active"),c+='<tr class="'+j+'" gte-row-id="'+i+'">';var k=settings.columnOpts,l=a.columns;if(k.length>0){var m=0,n="";for(var o in l){var p=l[o].data;if("GT_RowId"!==p&&invisibleCols[p]===!0){n=d[h][p];for(var q in k)if(typeof k[q].render!==UNDEFINED&&k[q].target===m){var r={id:i},s="string";n=k[q].render(n,r,s)}c+='<td data-name="'+p+'">'+n+"</td>"}++m}}else for(var o in l){var p=l[o].data;"GT_RowId"!==p&&invisibleCols[p]===!0&&(c+='<td data-name="'+p+'">'+d[h][p]+"</td>")}c+="</tr>"}a.tbody.html(c),clearTimeout(sortTimeout),setSelectRows(a,1)}function setTableRows(a,b,c){var h,i,d="",e=b,f=a.headThs,g=a.footThs;f.each(function(){var a=$(this);h=a.text(),a.html('<div class="gt_th_box">'+h+"</div>")}),g.each(function(){var a=$(this);i=a.text(),a.html('<div class="gt_th_box">'+i+"</div>")}),typeof c!==UNDEFINED&&(e=c);var j=0;j=e.length>a.defaultPerPage?parseInt(a.defaultPerPage)+parseInt(a.fromRow):e.length;var k=settings.tbody.find("tr.active"),l=[];typeof k!==UNDEFINED&&k.each(function(){var a=$(this).attr("gte-row-id");l[a]=a});for(var m=a.fromRow;m<=j-1&&typeof e[m]!==UNDEFINED;m++){var n=0,o="";if(typeof e[m].GT_RowId!==UNDEFINED)n=e[m].GT_RowId;else{if(typeof e[m].id===UNDEFINED)return void console.error('You have neither "GT_RowId" nor "id" in json structure.');n=e[m].id}l.length>0&&typeof l[n]!==UNDEFINED&&(o="active"),d+='<tr class="'+o+'" gte-row-id="'+n+'">';var p=settings.columnOpts,q=a.columns;if(p.length>0){var r=0,s="";for(var t in q){var u=q[t].data;if("GT_RowId"!==u&&invisibleCols[u]===!0){s=e[m][u];for(var v in p)if(typeof p[v].render!==UNDEFINED&&p[v].target===r){var w={id:n},x="string";s=p[v].render(s,w,x)}d+='<td data-name="'+u+'">'+s+"</td>"}++r}}else for(var t in q){var u=q[t].data;"GT_RowId"!==u&&invisibleCols[u]===!0&&(d+='<td data-name="'+u+'">'+e[m][u]+"</td>")}d+="</tr>"}a.tbody.html(d),clearTimeout(searchTimeout),setSelectRows(a,0),setPagination(a,b),setPgnSelect(settings,b),0===searchSet&&(setSearch(settings,b),searchSet=1),0===discreteSearchSet&&(setDiscreteSearch(settings,b),discreteSearchSet=1)}function setEditBtn(a){var b=settings.tableOpts.buttons[0].editor,c=settings.tableOpts.buttons;a.removeClass("gte_btn_disabled"),a.off("click"),a.click(function(){triggerCustomFunc(c,"editor_edit",1),b.triggerPopupEdit(settings);var a=settings.container.find(".gte_editor_popup");a.find(".gte_editor_title").text(language.gte_editor_popupheader_edit),a.find("#gte_sent_btn").text(language.gte_editor_sendbtn_update),triggerCustomFunc(c,"editor_edit",0)})}function setDeleteBtn(a){var b=settings.tableOpts.buttons[0].editor,c=settings.tableOpts.buttons;a.removeClass("gte_btn_disabled"),a.off("click"),a.click(function(){triggerCustomFunc(c,"editor_remove",1),b.triggerPopupDelete(settings);var a=settings.container.find(".gte_editor_popup");a.find(".gte_editor_title").text(language.gte_editor_popupheader_delete),a.find("#gte_sent_btn").text(language.gte_editor_sendbtn_delete);var d="",e=0;settings.tbody.find("tr.active").each(function(){d+='<input type="hidden" name="ids[]" value="'+$(this).attr("gte-row-id")+'"/>',++e}),a.find("#gte_msg").html("Are You sure You wish to delete "+e+" rows?"),a.find("#gte_ids").html(d),triggerCustomFunc(c,"editor_remove",0)})}function unsetEditBtn(a){a.addClass("gte_btn_disabled"),a.off("click")}function unsetDeleteBtn(a){a.addClass("gte_btn_disabled"),a.off("click")}function setSelectRows(a,b){b?(a.tbody.children().removeClass("even").removeClass("odd"),a.tbody.children().off("click")):($(document).keydown(function(a){a.which===CNTRL_KEY&&(c=!0),a.which===SHIFT_KEY&&(d=!0)}),$(document).keyup(function(){c=!1,d=!1})),a.tbody.children(":even").addClass("even"),a.tbody.children(":odd").addClass("odd");var c=!1,d=!1;a.tbody.children().click(function(){var b=$(this),e=b.siblings();if(c===!1&&d===!1)b.hasClass("active")?b.removeClass("active"):(that.find("tbody tr.active").removeClass("active"),b.addClass("active"));else if(c)b.hasClass("active")?b.removeClass("active"):b.addClass("active");else if(d){var f=b.siblings(".active:first"),g=b.siblings(".active:last"),h=f.index(),i=g.index(),j=b.index();if(b.addClass("active"),i===h)e.each(i>j?function(){var a=$(this),b=a.index();b>j&&b<i&&a.addClass("active")}:function(){var a=$(this),b=a.index();b<j&&b>i&&a.addClass("active")});else{var k=Math.abs(j-h),l=Math.abs(j-i);e.each(k<=l?function(){var a=$(this),b=a.index();b<j&&b>h&&a.addClass("active")}:function(){var a=$(this),b=a.index();b>j&&b<i&&a.addClass("active")})}}var m=b.hasClass("active")?1:0;e.each(function(){$(this).hasClass("active")&&++m});var n=a.container.find(".gte_button.edit"),o=a.container.find(".gte_button.remove");1===m?(setEditBtn(n),setDeleteBtn(o)):(unsetEditBtn(n),0===m?unsetDeleteBtn(o):setDeleteBtn(o))})}function setPagination(a,b){if(a.struct.pagination.length>0){var c=a.container.find(".gt_pagination"),d=b.length,e=parseInt(a.defaultPerPage),f=Math.ceil(d/e),g=a.fromRow?parseInt(a.fromRow):0,h=drawPagnButtons(f,g,e,c);c.remove();var i='<div class="gt_pagination"><div class="gt_pgn_ttl">'+language.showing+" "+(g+1)+" "+language.to+" "+(g+e)+" "+language.of+" "+d+" "+language.entries+'. </div><div class="gt_pgn_pages">'+h+'</div><div class="clear"></div></div>';-1!==a.struct.pagination.indexOf("top")&&a.headTools.after(i),-1!==a.struct.pagination.indexOf("bottom")&&a.footTools.before(i),a.container.find(".gt_page").click(function(){var c=$(this);a.fromRow=parseInt(c.attr("data-from")),setTableRows(a,b)})}}var PERIOD_SEARCH=200,TIMEOUT_SEARCH=300,SORT_ASC="asc",SORT_DESC="desc",POSITION_TOP="top",POSITION_BOTTOM="bottom",UNDEFINED="undefined",FUNCTION="function",SELECTED="selected",CHECKED="checked",CNTRL_KEY=17,SHIFT_KEY=16,ENTER_KEY=13,that=this,json=null,struct={},language=[],invisibleCols=[],unsearchableCols=[],searchSet=0,discreteSearchSet=0,sortTimeout=null,searchTimeout=null,lastTimeKeyup=(new Date).getTime(),nowMillis=0,lastTimeKeyupDiscrete=(new Date).getTime(),nowMillisDiscrete=0;struct.search=[],typeof options.struct.search===UNDEFINED?struct.search=[POSITION_TOP]:options.struct.search.length>0&&(struct.search=options.struct.search),struct.rowsSelector=[],typeof options.struct.rowsSelector===UNDEFINED?struct.rowsSelector=[SORT_ASC,POSITION_TOP,POSITION_BOTTOM]:options.struct.rowsSelector.length>0&&(struct.rowsSelector=options.struct.rowsSelector),struct.pagination=[],typeof options.struct.pagination===UNDEFINED?struct.pagination=["bottom"]:options.struct.pagination.length>0&&(struct.pagination=options.struct.pagination);var langs={en:{gte_editor_popupheader_delete:"Delete",gte_editor_popupheader_edit:"Edit",gte_editor_popupheader_create:"Create row",gte_editor_sendbtn_create:"Create",gte_editor_sendbtn_update:"Update",gte_editor_sendbtn_delete:"Delete",show:"Show",entries:"entries",showing:"Showing",to:"to",of:"of",prev:"Previous",next:"Next",search:"Search",editor_create:"New",editor_edit:"Edit",editor_remove:"Delete"},gr:{gte_editor_popupheader_delete:"L\xf6schen",gte_editor_popupheader_edit:"Bearbeiten",gte_editor_popupheader_create:"Neu zeile",gte_editor_sendbtn_create:"",gte_editor_sendbtn_update:"",gte_editor_sendbtn_delete:"",show:"Zeigen",entries:"eintr\xe4ge",showing:"Zeigen",to:"bis",of:"von",prev:"fr\xfcher",next:"N\xe4chste",search:"Suche",editor_create:"Neu",editor_edit:"Bearbeiten",editor_remove:"L\xf6schen"},ru:{gte_editor_popupheader_delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",gte_editor_popupheader_edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",gte_editor_popupheader_create:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443",gte_editor_sendbtn_create:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",gte_editor_sendbtn_update:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",gte_editor_sendbtn_delete:"\u0423\u0434\u0432\u043b\u0438\u0442\u044c",show:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",entries:"\u0441\u0442\u0440\u043e\u043a",showing:"\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u043e\u0442",to:"\u0434\u043e",of:"\u0438\u0437",prev:"\u041f\u0440\u0435\u0434.",next:"\u0421\u043b\u0435\u0434.",search:"\u041f\u043e\u0438\u0441\u043a",editor_create:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",editor_edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",editor_remove:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},fr:{gte_editor_popupheader_delete:"Effacer",gte_editor_popupheader_edit:"\xe9diter",gte_editor_popupheader_create:"Cr\xe9er rang\xe9e",gte_editor_sendbtn_create:"",gte_editor_sendbtn_update:"",gte_editor_sendbtn_delete:"",show:"Montrer",entries:"entr\xe9es",showing:"Projection",to:"\xe0",of:"de",prev:"Pr\xe9c\xe9dent",next:"Suivant",search:"Recherche",editor_create:"Cr\xe9er",editor_edit:"\xe9diter",editor_remove:"Effacer"},es:{gte_editor_popupheader_delete:"Borrar",gte_editor_popupheader_edit:"Editar",gte_editor_popupheader_create:"Crear fila",gte_editor_sendbtn_create:"",gte_editor_sendbtn_update:"",gte_editor_sendbtn_delete:"",show:"Mostrar",entries:"Entradas",showing:"Demostraci\xf3n",to:"a",of:"de",prev:"Anterior",next:"Pr\xf3ximo",search:"Buscar",editor_create:"Crear",editor_edit:"Editar",editor_remove:"Borrar"},ch:{gte_editor_popupheader_delete:"\u5220\u9664",gte_editor_popupheader_edit:"\u7f16\u8f91",gte_editor_popupheader_create:"\u521b\u5efa\u884c",gte_editor_sendbtn_create:"",gte_editor_sendbtn_update:"",gte_editor_sendbtn_delete:"",show:"\u663e\u793a",entries:"\u9879\u76ee",showing:"\u663e\u793a",to:"\u81f3",of:"\u7684",prev:"\u524d",next:"\u672a\u6765",search:"\u641c\u7d22",editor_create:"\u521b\u9020",editor_edit:"\u7f16\u8f91",editor_remove:"\u5220\u9664"},hi:{gte_editor_popupheader_delete:"\u0939\u091f\u093e\u0928\u093e",gte_editor_popupheader_edit:"\u0938\u0902\u092a\u093e\u0926\u0928 \u0915\u0930\u0928\u093e",gte_editor_popupheader_create:"\u092a\u0902\u0915\u094d\u0924\u093f \u092c\u0928\u093e",gte_editor_sendbtn_create:"",gte_editor_sendbtn_update:"",gte_editor_sendbtn_delete:"",show:"\u092a\u094d\u0930\u0926\u0930\u094d\u0936\u0928",entries:"\u0906\u0907\u091f\u092e",showing:"\u0928\u0941\u092e\u093e\u0907\u0936",to:"\u0924\u0915",of:"\u0915\u0940",prev:"\u092a\u0942\u0930\u094d\u0935",next:"\u0905\u0917\u0932\u093e",search:"\u0916\u094b\u091c",editor_create:"\u092c\u0928\u093e\u0928\u093e",editor_edit:"\u0938\u0902\u092a\u093e\u0926\u0928 \u0915\u0930\u0928\u093e",editor_remove:"\u0939\u091f\u093e\u0928\u093e"}},settings=$.extend(!0,{styling:{color:"#333",bgColor:"#ccc",highlightColor:"orange"},struct:struct,lang:"en",requestType:"GET",perPageRows:[25,50,100,200,500],defaultPerPage:25,columns:[],columnOpts:[],tableOpts:{buttons:[],theme:"std"}},options);switch(settings.setSelectedRows=setSelectRows,settings.lang){case"gr":language=langs.gr;break;case"ru":language=langs.ru;break;case"fr":language=langs.fr;break;case"hi":language=langs.hi;break;case"ch":language=langs.ch;break;case"es":language=langs.es;break;default:language=langs.en}var thead=that.children(":first"),tfoot=that.children(":last"),headThs=thead.children().children(),footThs=tfoot.children().children(),cntCols=headThs.length;that.wrap('<div class="gt_container"></div>');var container=that.parent().parent().find(".gt_container").prepend('<div class="gt_head_tools"></div>'),headTools=that.parent().parent().find(".gt_head_tools");container.append('<div class="gt_foot_tools"></div>');var footTools=container.find(".gt_foot_tools");if(settings.struct.rowsSelector.length>0){var options=language.show+' <select class="gt_select" name="per_page_rows">';for(var k in settings.perPageRows){var rows=settings.perPageRows[k];options+="<option "+(settings.defaultPerPage===rows?'selected=""':"")+' value="'+rows+'">'+rows+"</option>"}options+="</select> "+language.entries,-1!==settings.struct.rowsSelector.indexOf("top")&&headTools.append('<div class="gt_rows_selector">'+options+"</div>"),-1!==settings.struct.rowsSelector.indexOf("bottom")&&footTools.append('<div class="gt_rows_selector">'+options+"</div>")}return settings.struct.search.length>0&&headTools.append('<div class="gt_main_search"><input type="text" class="gt_search" value="" placeholder="'+language.search+'" /></div>'),headTools.append('<div class="clear"></div>'),footTools.append('<div class="clear"></div>'),that.addClass("gigatable"),thead.addClass("gt_head"),tfoot.addClass("gt_foot"),thead.after('<tbody class="gt_body"><tr><td class="gt_loader" colspan="'+cntCols+'">Loading...</td></tr></tbody>'),settings.thead=thead,settings.tbody=thead.next(),settings.tfoot=tfoot,settings.headThs=headThs,settings.footThs=footThs,settings.cntCols=cntCols,settings.headTools=headTools,settings.footTools=footTools,settings.container=container,settings.fromRow=0,$.ajax({url:settings.ajax,type:settings.requestType,dataType:"json"}).done(function(a){if(json=a.rows?a.rows:a.row,typeof json===UNDEFINED)return console.error("Put json into rows or row associative key!"),!1;var b=container.find("th");b.each(function(){var a=$(this),b=a.index();settings.columns[b].sortable!==!1&&a.addClass("sorting"),settings.columns[b].visible===!1?(a.hide(),invisibleCols[settings.columns[b].data]=!1):invisibleCols[settings.columns[b].data]=!0,unsearchableCols[settings.columns[b].data]=settings.columns[b].searchable===!1?!1:!0}),tfoot.find("th").each(function(){var a=$(this),b=a.index();if(settings.columns[b].discreteSearch===!0){var c="Search in "+a.text();typeof settings.columns[b].discreteSearchValue!==UNDEFINED&&(c=settings.columns[b].discreteSearchValue(a.text()),a.removeClass("sorting")),a.html('<input type="text" placeholder="'+c+'" />')}}),setTableRows(settings,json),setSort(settings,json),settings.tableOpts.buttons.length>0&&setButtons(settings);var c=that.width();container.css("width",c+40+"px")}),this}}(jQuery);